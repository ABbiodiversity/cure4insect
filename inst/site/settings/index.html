<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>ABMI Custom Reporting: Settings</title>
  <link rel="stylesheet" type="text/css" href="../assets/css/fontawesome-all.min.css" />
  <link rel="stylesheet" type="text/css" href="../assets/css/bulma.min.css" />
  <link rel="stylesheet" type="text/css" href="../assets/css/custom.css" />
  <link rel="stylesheet" type="text/css" href="../assets/css/fonts.css" />
  <link rel="shortcut icon" href="../favicon.ico">
</head>
<body>

  <section class="hero is-primary is-bold is-small">
    <div class="hero-head">
      <nav class="navbar">
        <div class="container">
          <div class="navbar-brand">
            <a class="navbar-item" href="http://abmi.ca" target=_blank>
              <img src="../assets/images/abmi-logo-white.png" alt="ABMI">
            </a>
            <span class="navbar-burger burger" data-target="navMenu">
              <span></span>
              <span></span>
              <span></span>
            </span>
          </div>
          <div id="navMenu" class="navbar-menu">
            <div class="navbar-end">
              <a class="navbar-item" href="../index.html">
                Home
              </a>
              <a class="navbar-item" href="../report/index.html">
                Report
              </a>
              <a class="navbar-item" href="../species/index.html">
                Species
              </a>
              <a class="navbar-item is-active">
                Settings
              </a>
              <a class="navbar-item" href="../docs/index.html">
                Docs
              </a>
            </div>
          </div>
        </div>
      </nav>
    </div>
    <div class="hero-body">
      <div class="container has-text-centered">
        <h1 class="title">
          Settings
        </h1>
      </div>
    </div>
  </section>

  <section>
    <div class="columns">
      <div class="column">

        <nav class="level">
          <div class="level-item has-text-centered">
            <div>
              <p class="heading">Species</p>
              <p class="title" id="info-species"></p>
            </div>
          </div>
          <div class="level-item has-text-centered">
            <div>
              <p class="heading">km<sup>2</sup> units</p>
              <p class="title" id="info-area"></p>
            </div>
          </div>
        </nav>

      </div>
    </div>
  </section>

  <section>
    <div class="columns">
      <div class="column is-4 is-offset-2">
        <div class="notification is-info" id="version"></div>
      </div>
      <div class="column is-4">
        <div class="card">
          <div class="card-image">
            <figure class="image image-modal" data-target="#modalMapRichness">
              <img src="./images/selection.png"  alt="Soil coef">
            </figure>
            <div class="modal"  id="modalMapRichness">
              <div class="modal-background"></div>
              <div class="modal-content">
                <p class="image">
                  <img src="./images/selection.png" alt="">
                </p>
              </div>
              <button class="modal-close is-large" aria-label="close"></button>
            </div>
          </div>
          <div class="card-content">
            <div class="content">
              <p class="subtitle">Region selected</p>
            </div>
          </div>
        </div>
      </div>
    </div>
  </section>

  <footer class="footer">
    <div class="container">
      <div class="content has-text-centered">
        <p id="footer"></p>
      </div>
    </div>
  </footer>

</body>
<script type="text/javascript" src="../assets/js/jquery.min.js"></script>
<script type="text/javascript" src="../assets/js/basic.js"></script>
<script type="text/javascript" src="./settings.js"></script>
<script>
$(document).ready(function(){

  function addCommas(nStr)
  {
      nStr += '';
      x = nStr.split('.');
      x1 = x[0];
      x2 = x.length > 1 ? '.' + x[1] : '';
      var rgx = /(\d+)(\d{3})/;
      while (rgx.test(x1)) {
          x1 = x1.replace(rgx, '$1' + ',' + '$2');
      }
      return x1 + x2;
  }
  $("#info-species").append(settings.species);
  $("#info-area").append(addCommas(settings.pixels));
  var ver = 'Custom report produced on ' + settings.date + ' with <a href="https://github.com/ABbiodiversity/cure4insect#readme" target=_blank>' + settings.version + '</a> and <a href="https://www.r-project.org/" target=_blank>' + settings.rversion + '</a>.';
  $("#version").html(ver);

});
</script>
</html>
